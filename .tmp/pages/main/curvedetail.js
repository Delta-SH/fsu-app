"use strict";loader.define(function(t,e,i){var a={name:"测值曲线图表",request:null,loading:null,chart:null,params:null,options:{tooltip:{trigger:"axis",formatter:function(t){if(0<a.options.series.length){$.isArray(t)||(t=[t]);var i=[];return $.each(t,function(t,e){i.push(String.format('<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:{0}"></span>{1}<br/>信号测值：{2} {3}<br/>测值时间：{4}',e.color,e.seriesName,e.value[0],e.data.unit,e.value[1]))}),i.join("<br/>")}return"无数据"},extraCssText:"-webkit-transform: rotate(90deg);-moz-transform: rotate(90deg);-o-transform: rotate(90deg);-ms-transform: rotate(90deg);transform: rotate(90deg);"},grid:{top:10,left:10,right:40,bottom:30,containLabel:!0},xAxis:[{type:"value",position:"top",nameRotate:-90,scale:!0,axisLabel:{rotate:90},splitLine:{show:!1},splitArea:{show:!0,areaStyle:{color:["rgba(21, 127, 204,0.2)","rgba(255,255,255,0.2)"]}}}],yAxis:{type:"time",boundaryGap:!1,inverse:"true",axisLabel:{rotate:-90},splitLine:{show:!1}},series:[]},init:function(){if(!0===isNull(this.params)){var t=router.getPageParams();this.params={id:parseInt(t.id),name:t.name,desc:t.desc,begin:t.begin,end:t.end}}!0===isNull(this.request)&&(this.request=getAppRequest()),!0===isNull(this.loading)&&(this.loading=bui.loading({appendTo:".curvedetail-page",text:"正在加载"})),!0===isNull(this.chart)&&(this.chart=echarts.init(document.getElementById("pylon-app-curvedetail-chart"),"shine"),this.chart.setOption(this.options))},load:function(){this.loading.show(),this.request.Post({url:"GetMeasure",data:{begin:this.params.begin,end:this.params.end,id:this.params.id}},function(t){a.draw(t.data)},function(t){warning(t.message)},function(){a.loading.hide()})},dispose:function(){},draw:function(t){var i=[],a=this;$.each(t,function(t,e){i.push({value:[e.V,e.T],unit:a.params.desc})}),this.options.series.push({name:a.params.name,type:"line",smooth:!0,showSymbol:!1,itemStyle:{normal:{color:"#0892cd"}},data:i}),this.chart.setOption(a.options,!0)}};return loader.import("js/echarts.common.min.js",function(){a.init(),a.load()}),a});